"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{6900:function(t,e,r){r.d(e,{z:function(){return c}});var s=r(7045),i=r(8238),n=r(1733),u=r(4112),a=r(6803),o=r(5345),h=r(4554),c=class extends u.l{constructor(t,e){super(),this.options=e,this.#t=t,this.#e=null,this.#r=(0,a.O)(),this.bindMethods(),this.setOptions(e)}#t;#s=void 0;#i=void 0;#n=void 0;#u;#a;#r;#e;#o;#h;#c;#l;#d;#p;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),l(this.#s,this.options)?this.#y():this.updateResult(),this.#R())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#m(),this.#s.removeObserver(this)}setOptions(t){let e=this.options,r=this.#s;if(this.options=this.#t.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.Nc)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#s.setOptions(this.options),e._defaulted&&!(0,o.VS)(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&p(this.#s,r,this.options,e)&&this.#y(),this.updateResult(),s&&(this.#s!==r||(0,o.Nc)(this.options.enabled,this.#s)!==(0,o.Nc)(e.enabled,this.#s)||(0,o.KC)(this.options.staleTime,this.#s)!==(0,o.KC)(e.staleTime,this.#s))&&this.#g();let i=this.#Q();s&&(this.#s!==r||(0,o.Nc)(this.options.enabled,this.#s)!==(0,o.Nc)(e.enabled,this.#s)||i!==this.#p)&&this.#O(i)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return(0,o.VS)(this.getCurrentResult(),r)||(this.#n=r,this.#a=this.options,this.#u=this.#s.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(t,r)=>(this.trackProp(r),e?.(r),"promise"!==r||(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,r))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#s}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#y({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#y(t){this.#b();let e=this.#s.fetch(this.options,t);return t?.throwOnError||(e=e.catch(o.ZT)),e}#g(){this.#v();let t=(0,o.KC)(this.options.staleTime,this.#s);if(o.sk||this.#n.isStale||!(0,o.PN)(t))return;let e=(0,o.Kp)(this.#n.dataUpdatedAt,t);this.#l=h.mr.setTimeout(()=>{this.#n.isStale||this.updateResult()},e+1)}#Q(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#O(t){this.#m(),this.#p=t,!o.sk&&!1!==(0,o.Nc)(this.options.enabled,this.#s)&&(0,o.PN)(this.#p)&&0!==this.#p&&(this.#d=h.mr.setInterval(()=>{(this.options.refetchIntervalInBackground||s.j.isFocused())&&this.#y()},this.#p))}#R(){this.#g(),this.#O(this.#Q())}#v(){this.#l&&(h.mr.clearTimeout(this.#l),this.#l=void 0)}#m(){this.#d&&(h.mr.clearInterval(this.#d),this.#d=void 0)}createResult(t,e){let r;let s=this.#s,i=this.options,u=this.#n,h=this.#u,c=this.#a,d=t!==s?t.state:this.#i,{state:y}=t,R={...y},v=!1;if(e._optimisticResults){let r=this.hasListeners(),u=!r&&l(t,e),a=r&&p(t,s,e,i);(u||a)&&(R={...R,...(0,n.z)(y.data,t.options)}),"isRestoring"===e._optimisticResults&&(R.fetchStatus="idle")}let{error:m,errorUpdatedAt:b,status:g}=R;r=R.data;let Q=!1;if(void 0!==e.placeholderData&&void 0===r&&"pending"===g){let t;u?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(t=u.data,Q=!0):t="function"==typeof e.placeholderData?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,void 0!==t&&(g="success",r=(0,o.oE)(u?.data,t,e),v=!0)}if(e.select&&void 0!==r&&!Q){if(u&&r===h?.data&&e.select===this.#o)r=this.#h;else try{this.#o=e.select,r=e.select(r),r=(0,o.oE)(u?.data,r,e),this.#h=r,this.#e=null}catch(t){this.#e=t}}this.#e&&(m=this.#e,r=this.#h,b=Date.now(),g="error");let O="fetching"===R.fetchStatus,C="pending"===g,S="error"===g,I=C&&O,E=void 0!==r,T={status:g,fetchStatus:R.fetchStatus,isPending:C,isSuccess:"success"===g,isError:S,isInitialLoading:I,isLoading:I,data:r,dataUpdatedAt:R.dataUpdatedAt,error:m,errorUpdatedAt:b,failureCount:R.fetchFailureCount,failureReason:R.fetchFailureReason,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>d.dataUpdateCount||R.errorUpdateCount>d.errorUpdateCount,isFetching:O,isRefetching:O&&!C,isLoadingError:S&&!E,isPaused:"paused"===R.fetchStatus,isPlaceholderData:v,isRefetchError:S&&E,isStale:f(t,e),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,o.Nc)(e.enabled,t)};if(this.options.experimental_prefetchInRender){let e=t=>{"error"===T.status?t.reject(T.error):void 0!==T.data&&t.resolve(T.data)},r=()=>{e(this.#r=T.promise=(0,a.O)())},i=this.#r;switch(i.status){case"pending":t.queryHash===s.queryHash&&e(i);break;case"fulfilled":("error"===T.status||T.data!==i.value)&&r();break;case"rejected":("error"!==T.status||T.error!==i.reason)&&r()}}return T}updateResult(){let t=this.#n,e=this.createResult(this.#s,this.options);this.#u=this.#s.state,this.#a=this.options,void 0!==this.#u.data&&(this.#c=this.#s),(0,o.VS)(e,t)||(this.#n=e,this.#C({listeners:(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#f.size)return!0;let s=new Set(r??this.#f);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(e=>this.#n[e]!==t[e]&&s.has(e))})()}))}#b(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#s)return;let e=this.#s;this.#s=t,this.#i=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#R()}#C(t){i.Vr.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function l(t,e){return!1!==(0,o.Nc)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)||void 0!==t.state.data&&d(t,e,e.refetchOnMount)}function d(t,e,r){if(!1!==(0,o.Nc)(e.enabled,t)&&"static"!==(0,o.KC)(e.staleTime,t)){let s="function"==typeof r?r(t):r;return"always"===s||!1!==s&&f(t,e)}return!1}function p(t,e,r,s){return(t!==e||!1===(0,o.Nc)(s.enabled,t))&&(!r.suspense||"error"!==t.state.status)&&f(t,r)}function f(t,e){return!1!==(0,o.Nc)(e.enabled,t)&&t.isStaleByTime((0,o.KC)(e.staleTime,t))}},2094:function(t,e,r){r.d(e,{HydrationBoundary:function(){return h}});var s=r(2265),i=r(6803),n=r(5345);function u(t){return t}function a(t,e,r){if("object"!=typeof e||null===e)return;let s=t.getMutationCache(),a=t.getQueryCache(),o=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??u,h=e.mutations||[],c=e.queries||[];h.forEach(({state:e,...i})=>{s.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...i},e)}),c.forEach(({queryKey:e,state:s,queryHash:u,meta:h,promise:c,dehydratedAt:l})=>{let d=c?(0,i.g)(c):void 0,p=void 0===s.data?d?.data:s.data,f=void 0===p?p:o(p),y=a.get(u),R=y?.state.status==="pending",v=y?.state.fetchStatus==="fetching";if(y){let t=d&&void 0!==l&&l>y.state.dataUpdatedAt;if(s.dataUpdatedAt>y.state.dataUpdatedAt||t){let{fetchStatus:t,...e}=s;y.setState({...e,data:f})}}else y=a.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:e,queryHash:u,meta:h},{...s,data:f,fetchStatus:"idle",status:void 0!==f?"success":s.status});c&&!R&&!v&&(void 0===l||l>y.state.dataUpdatedAt)&&y.fetch(void 0,{initialPromise:Promise.resolve(c).then(o)}).catch(n.ZT)})}var o=r(9827),h=t=>{let{children:e,options:r={},state:i,queryClient:n}=t,u=(0,o.useQueryClient)(n),h=s.useRef(r);s.useEffect(()=>{h.current=r});let c=s.useMemo(()=>{if(i){if("object"!=typeof i)return;let t=u.getQueryCache(),e=i.queries||[],r=[],s=[];for(let i of e){let e=t.get(i.queryHash);e?(i.state.dataUpdatedAt>e.state.dataUpdatedAt||i.promise&&"pending"!==e.state.status&&"fetching"!==e.state.fetchStatus&&void 0!==i.dehydratedAt&&i.dehydratedAt>e.state.dataUpdatedAt)&&s.push(i):r.push(i)}if(r.length>0&&a(u,{queries:r},h.current),s.length>0)return s}},[u,i]);return s.useEffect(()=>{c&&a(u,{queries:c},h.current)},[u,c]),e}},4984:function(t,e,r){r.d(e,{IsRestoringProvider:function(){return u},useIsRestoring:function(){return n}});var s=r(2265),i=s.createContext(!1),n=()=>s.useContext(i),u=i.Provider},4147:function(t,e,r){r.d(e,{QueryErrorResetBoundary:function(){return o},useQueryErrorResetBoundary:function(){return a}});var s=r(2265),i=r(7437);function n(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var u=s.createContext(n()),a=()=>s.useContext(u),o=t=>{let{children:e}=t,[r]=s.useState(()=>n());return(0,i.jsx)(u.Provider,{value:r,children:"function"==typeof e?e(r):e})}},674:function(t,e,r){r.d(e,{JN:function(){return u},KJ:function(){return a},pf:function(){return n}});var s=r(2265),i=r(5345),n=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&!e.isReset()&&(t.retryOnMount=!1)},u=t=>{s.useEffect(()=>{t.clearReset()},[t])},a=t=>{let{result:e,errorResetBoundary:r,throwOnError:s,query:n,suspense:u}=t;return e.isError&&!r.isReset()&&!e.isFetching&&n&&(u&&void 0===e.data||(0,i.L3)(s,[e.error,n]))}},8386:function(t,e,r){r.d(e,{A8:function(){return i},Ct:function(){return s},SB:function(){return u},Z$:function(){return n},j8:function(){return a}});var s=(t,e)=>void 0===e.state.data,i=t=>{if(t.suspense){let e=t=>"static"===t?t:Math.max(t??1e3,1e3),r=t.staleTime;t.staleTime="function"==typeof r?(...t)=>e(r(...t)):e(r),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3))}},n=(t,e)=>t.isLoading&&t.isFetching&&!e,u=(t,e)=>t?.suspense&&e.isPending,a=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()})},9285:function(t,e,r){r.d(e,{r:function(){return l}});var s=r(2265),i=r(8238),n=r(5345),u=r(9827),a=r(4147),o=r(674),h=r(4984),c=r(8386);function l(t,e,r){var l,d,p,f,y;let R=(0,h.useIsRestoring)(),v=(0,a.useQueryErrorResetBoundary)(),m=(0,u.useQueryClient)(r),b=m.defaultQueryOptions(t);null===(d=m.getDefaultOptions().queries)||void 0===d||null===(l=d._experimental_beforeQuery)||void 0===l||l.call(d,b),b._optimisticResults=R?"isRestoring":"optimistic",(0,c.A8)(b),(0,o.pf)(b,v),(0,o.JN)(v);let g=!m.getQueryCache().get(b.queryHash),[Q]=s.useState(()=>new e(m,b)),O=Q.getOptimisticResult(b),C=!R&&!1!==t.subscribed;if(s.useSyncExternalStore(s.useCallback(t=>{let e=C?Q.subscribe(i.Vr.batchCalls(t)):n.ZT;return Q.updateResult(),e},[Q,C]),()=>Q.getCurrentResult(),()=>Q.getCurrentResult()),s.useEffect(()=>{Q.setOptions(b)},[b,Q]),(0,c.SB)(b,O))throw(0,c.j8)(b,Q,v);if((0,o.KJ)({result:O,errorResetBoundary:v,throwOnError:b.throwOnError,query:m.getQueryCache().get(b.queryHash),suspense:b.suspense}))throw O.error;if(null===(f=m.getDefaultOptions().queries)||void 0===f||null===(p=f._experimental_afterQuery)||void 0===p||p.call(f,b,O),b.experimental_prefetchInRender&&!n.sk&&(0,c.Z$)(O,R)){let t=g?(0,c.j8)(b,Q,v):null===(y=m.getQueryCache().get(b.queryHash))||void 0===y?void 0:y.promise;null==t||t.catch(n.ZT).finally(()=>{Q.updateResult()})}return b.notifyOnChangeProps?O:Q.trackResult(O)}},1770:function(t,e,r){r.d(e,{useMutation:function(){return c}});var s=r(2265),i=r(2894),n=r(8238),u=r(4112),a=r(5345),o=class extends u.l{#t;#n=void 0;#S;#I;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#E()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,a.VS)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#S,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(e.mutationKey)!==(0,a.Ym)(this.options.mutationKey)?this.reset():this.#S?.state.status==="pending"&&this.#S.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#S?.removeObserver(this)}onMutationUpdate(t){this.#E(),this.#C(t)}getCurrentResult(){return this.#n}reset(){this.#S?.removeObserver(this),this.#S=void 0,this.#E(),this.#C()}mutate(t,e){return this.#I=e,this.#S?.removeObserver(this),this.#S=this.#t.getMutationCache().build(this.#t,this.options),this.#S.addObserver(this),this.#S.execute(t)}#E(){let t=this.#S?.state??(0,i.R)();this.#n={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#C(t){n.Vr.batch(()=>{if(this.#I&&this.hasListeners()){let e=this.#n.variables,r=this.#n.context,s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#I.onSuccess?.(t.data,e,r,s),this.#I.onSettled?.(t.data,null,e,r,s)):t?.type==="error"&&(this.#I.onError?.(t.error,e,r,s),this.#I.onSettled?.(void 0,t.error,e,r,s))}this.listeners.forEach(t=>{t(this.#n)})})}},h=r(9827);function c(t,e){let r=(0,h.useQueryClient)(e),[i]=s.useState(()=>new o(r,t));s.useEffect(()=>{i.setOptions(t)},[i,t]);let u=s.useSyncExternalStore(s.useCallback(t=>i.subscribe(n.Vr.batchCalls(t)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=s.useCallback((t,e)=>{i.mutate(t,e).catch(a.ZT)},[i]);if(u.error&&(0,a.L3)(i.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:c,mutateAsync:u.mutate}}},1632:function(t,e,r){r.d(e,{useQuery:function(){return n}});var s=r(6900),i=r(9285);function n(t,e){return(0,i.r)(t,s.z,e)}}}]);